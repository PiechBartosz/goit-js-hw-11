{"mappings":"AAAA,MAAMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAiBJ,SAASC,eAAe,aAE/C,IAEII,EAFAC,EAAc,GACdC,EAAO,EAGXC,eAAeC,EAAYC,EAAOC,GAChC,MACMC,EAAM,qEAA4CF,8EAAkFC,IAE1I,IACE,MAAME,QAAiBC,MAAMC,IAAIH,GAEjC,OADaC,EAASG,I,CAEtB,MAAOC,GACPC,QAAQD,MAAM,sBAAuBA,E,EA4CzC,SAASE,EAAcC,GACrBA,EAAOC,SAAQC,KAzCjB,SAAyBC,GACvB,MAAMC,EAAYxB,SAASyB,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExB,MAAMC,EAAU5B,SAASyB,cAAc,KACvCG,EAAQC,KAAON,EAAUO,cACzBF,EAAQG,aAAa,gBAAiB,WACtCH,EAAQG,aAAa,aAAcR,EAAUS,MAE7C,MAAMC,EAAMjC,SAASyB,cAAc,OACnCQ,EAAIC,IAAMX,EAAUY,aACpBF,EAAIG,IAAMb,EAAUS,KACpBC,EAAII,QAAU,OAEdT,EAAQU,YAAYL,GAEpB,MAAMM,EAAOvC,SAASyB,cAAc,OACpCc,EAAKb,UAAUC,IAAI,QAEnB,MAAMa,EAAQxC,SAASyB,cAAc,KACrCe,EAAMd,UAAUC,IAAI,aACpBa,EAAMC,UAAY,iBAAiBlB,EAAUiB,QAE7C,MAAME,EAAQ1C,SAASyB,cAAc,KACrCiB,EAAMhB,UAAUC,IAAI,aACpBe,EAAMD,UAAY,iBAAiBlB,EAAUmB,QAE7C,MAAMC,EAAW3C,SAASyB,cAAc,KACxCkB,EAASjB,UAAUC,IAAI,aACvBgB,EAASF,UAAY,oBAAoBlB,EAAUoB,WAEnD,MAAMC,EAAY5C,SAASyB,cAAc,KACzCmB,EAAUlB,UAAUC,IAAI,aACxBiB,EAAUH,UAAY,qBAAqBlB,EAAUqB,YAErDL,EAAKM,OAAOL,EAAOE,EAAOC,EAAUC,GACpCpB,EAAUqB,OAAOjB,EAASW,GAC1BrC,EAAQoC,YAAYd,E,CAKlBsB,CAAgBxB,EAAM,IAEpBjB,EACFA,EAAS0C,UAET1C,EAAW,IAAI2C,eAAe,6B,CAIlCjD,EAAWkD,iBAAiB,UAAUzC,MAAM0C,IAC1CA,EAAMC,iBACN7C,EAAc4C,EAAME,OAAOC,YAAYC,MACvC/C,EAAO,EACPL,EAAQuC,UAAY,GAEpB,MAAMzB,QAAaP,EAAYH,EAAaC,GACnB,IAArBS,EAAKuC,KAAKC,QAOdrC,EAAcH,EAAKuC,MACnBnD,EAAeqD,MAAMC,QAAU,SAP7BC,SAASC,OAAOC,QACd,0DAMkC,IAGxCzD,EAAe6C,iBAAiB,SAASzC,UACvCD,GAAQ,EACR,MAAMS,QAAaP,EAAYH,EAAaC,GAE5C,GAAyB,IAArBS,EAAKuC,KAAKC,OAKZ,OAJAG,SAASC,OAAOC,QACd,kEAEFzD,EAAeqD,MAAMC,QAAU,QAIjCvC,EAAcH,EAAKuC,KAAK,IAG1BnD,EAAeqD,MAAMC,QAAU","sources":["src/index.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreButton = document.getElementById('load-more');\n\nlet searchQuery = '';\nlet page = 1;\nlet lightbox;\n\nasync function fetchImages(query, page) {\n  const apiKey = '36164557-730a1e0f3972fad2bf258714a';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${page}`;\n\n  try {\n    const response = await axios.get(url);\n    const data = response.data;\n    return data;\n  } catch (error) {\n    console.error('Error fetching data', error);\n  }\n}\n\nfunction createImageCard(imageData) {\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const imgLink = document.createElement('a');\n  imgLink.href = imageData.largeImageURL;\n  imgLink.setAttribute('data-lightbox', 'gallery');\n  imgLink.setAttribute('data-title', imageData.tags);\n\n  const img = document.createElement('img');\n  img.src = imageData.webformatURL;\n  img.alt = imageData.tags;\n  img.loading = 'lazy';\n\n  imgLink.appendChild(img);\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likes = document.createElement('p');\n  likes.classList.add('info-item');\n  likes.innerHTML = `<b>Likes:</b> ${imageData.likes}`;\n\n  const views = document.createElement('p');\n  views.classList.add('info-item');\n  views.innerHTML = `<b>Views:</b> ${imageData.views}`;\n\n  const comments = document.createElement('p');\n  comments.classList.add('info-item');\n  comments.innerHTML = `<b>Comments:</b> ${imageData.comments}`;\n\n  const downloads = document.createElement('p');\n  downloads.classList.add('info-item');\n  downloads.innerHTML = `<b>Downloads:</b> ${imageData.downloads}`;\n\n  info.append(likes, views, comments, downloads);\n  photoCard.append(imgLink, info);\n  gallery.appendChild(photoCard);\n}\n\nfunction displayImages(images) {\n  images.forEach(image => {\n    createImageCard(image);\n  });\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('a[data-lightbox=\"gallery\"]');\n  }\n}\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  searchQuery = event.target.searchQuery.value;\n  page = 1;\n  gallery.innerHTML = '';\n\n  const data = await fetchImages(searchQuery, page);\n  if (data.hits.length === 0) {\n    Notiflix.Notify.failure(\n      'Brak obrazów pasujących do zapytania. Spróbuj ponownie.'\n    );\n    return;\n  }\n\n  displayImages(data.hits);\n  loadMoreButton.style.display = 'block';\n});\n\nloadMoreButton.addEventListener('click', async () => {\n  page += 1;\n  const data = await fetchImages(searchQuery, page);\n\n  if (data.hits.length === 0) {\n    Notiflix.Notify.failure(\n      'Przepraszamy, ale dotarłeś do końca wyników wyszukiwania.'\n    );\n    loadMoreButton.style.display = 'none';\n    return;\n  }\n\n  displayImages(data.hits);\n});\n\nloadMoreButton.style.display = 'none';\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreButton","$1f0dc3b9307be026$var$lightbox","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$page","async","$1f0dc3b9307be026$var$fetchImages","query","page1","url","response","axios","get","data","error","console","$1f0dc3b9307be026$var$displayImages","images","forEach","image","imageData","photoCard","createElement","classList","add","imgLink","href","largeImageURL","setAttribute","tags","img","src","webformatURL","alt","loading","appendChild","info","likes","innerHTML","views","comments","downloads","append","$1f0dc3b9307be026$var$createImageCard","refresh","SimpleLightbox","addEventListener","event","preventDefault","target","searchQuery","value","hits","length","style","display","Notiflix","Notify","failure"],"version":3,"file":"index.bb63139f.js.map"}